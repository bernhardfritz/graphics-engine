(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Vn(e,t){const n=document.createElement("canvas");t.appendChild(n);const r=n.getContext("webgl2");if(r===null)throw new Error("Error creating WebGL2 context.");const o=e(r),c=i=>{o(i),requestAnimationFrame(c)};requestAnimationFrame(c)}/* @license twgl.js 5.5.4 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */let Ge=Float32Array;function Z(e,t,n){const r=new Ge(3);return e&&(r[0]=e),t&&(r[1]=t),n&&(r[2]=n),r}function $n(e,t,n){return n=n||new Ge(3),n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function wt(e,t,n){n=n||new Ge(3);const r=e[2]*t[0]-e[0]*t[2],o=e[0]*t[1]-e[1]*t[0];return n[0]=e[1]*t[2]-e[2]*t[1],n[1]=r,n[2]=o,n}function We(e,t){t=t||new Ge(3);const n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=Math.sqrt(n);return r>1e-5?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=0,t[1]=0,t[2]=0),t}let p=Float32Array;function kn(e){const t=p;return p=e,t}function Hn(e,t){return t=t||new p(16),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t}function Xn(){return new p(16).fill(0)}function zt(e,t){return t=t||new p(16),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Vt(e){return e=e||new p(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function dn(e,t){if(t=t||new p(16),t===e){let A;return A=e[1],e[1]=e[4],e[4]=A,A=e[2],e[2]=e[8],e[8]=A,A=e[3],e[3]=e[12],e[12]=A,A=e[6],e[6]=e[9],e[9]=A,A=e[7],e[7]=e[13],e[13]=A,A=e[11],e[11]=e[14],e[14]=A,t}const n=e[0*4+0],r=e[0*4+1],o=e[0*4+2],c=e[0*4+3],i=e[1*4+0],a=e[1*4+1],u=e[1*4+2],s=e[1*4+3],m=e[2*4+0],f=e[2*4+1],l=e[2*4+2],E=e[2*4+3],x=e[3*4+0],y=e[3*4+1],_=e[3*4+2],T=e[3*4+3];return t[0]=n,t[1]=i,t[2]=m,t[3]=x,t[4]=r,t[5]=a,t[6]=f,t[7]=y,t[8]=o,t[9]=u,t[10]=l,t[11]=_,t[12]=c,t[13]=s,t[14]=E,t[15]=T,t}function $t(e,t){t=t||new p(16);const n=e[0*4+0],r=e[0*4+1],o=e[0*4+2],c=e[0*4+3],i=e[1*4+0],a=e[1*4+1],u=e[1*4+2],s=e[1*4+3],m=e[2*4+0],f=e[2*4+1],l=e[2*4+2],E=e[2*4+3],x=e[3*4+0],y=e[3*4+1],_=e[3*4+2],T=e[3*4+3],A=l*T,h=_*E,F=u*T,S=_*s,v=u*E,P=l*s,B=o*T,M=_*c,L=o*E,O=l*c,G=o*s,z=u*c,V=m*y,$=x*f,k=i*y,H=x*a,X=i*f,Re=m*a,pe=n*y,Se=x*r,Ie=n*f,Pe=m*r,ve=n*a,we=i*r,St=A*a+S*f+v*y-(h*a+F*f+P*y),It=h*r+B*f+O*y-(A*r+M*f+L*y),Pt=F*r+M*a+G*y-(S*r+B*a+z*y),vt=P*r+L*a+z*f-(v*r+O*a+G*f),N=1/(n*St+i*It+m*Pt+x*vt);return t[0]=N*St,t[1]=N*It,t[2]=N*Pt,t[3]=N*vt,t[4]=N*(h*i+F*m+P*x-(A*i+S*m+v*x)),t[5]=N*(A*n+M*m+L*x-(h*n+B*m+O*x)),t[6]=N*(S*n+B*i+z*x-(F*n+M*i+G*x)),t[7]=N*(v*n+O*i+G*m-(P*n+L*i+z*m)),t[8]=N*(V*s+H*E+X*T-($*s+k*E+Re*T)),t[9]=N*($*c+pe*E+Pe*T-(V*c+Se*E+Ie*T)),t[10]=N*(k*c+Se*s+ve*T-(H*c+pe*s+we*T)),t[11]=N*(Re*c+Ie*s+we*E-(X*c+Pe*s+ve*E)),t[12]=N*(k*l+Re*_+$*u-(X*_+V*u+H*l)),t[13]=N*(Ie*_+V*o+Se*l-(pe*l+Pe*_+$*o)),t[14]=N*(pe*u+we*_+H*o-(ve*_+k*o+Se*u)),t[15]=N*(ve*l+X*o+Pe*u-(Ie*u+we*l+Re*o)),t}function Yn(e,t,n){n=n||new p(16);const r=e[0],o=e[1],c=e[2],i=e[3],a=e[4],u=e[5],s=e[6],m=e[7],f=e[8],l=e[9],E=e[10],x=e[11],y=e[12],_=e[13],T=e[14],A=e[15],h=t[0],F=t[1],S=t[2],v=t[3],P=t[4],B=t[5],M=t[6],L=t[7],O=t[8],G=t[9],z=t[10],V=t[11],$=t[12],k=t[13],H=t[14],X=t[15];return n[0]=r*h+a*F+f*S+y*v,n[1]=o*h+u*F+l*S+_*v,n[2]=c*h+s*F+E*S+T*v,n[3]=i*h+m*F+x*S+A*v,n[4]=r*P+a*B+f*M+y*L,n[5]=o*P+u*B+l*M+_*L,n[6]=c*P+s*B+E*M+T*L,n[7]=i*P+m*B+x*M+A*L,n[8]=r*O+a*G+f*z+y*V,n[9]=o*O+u*G+l*z+_*V,n[10]=c*O+s*G+E*z+T*V,n[11]=i*O+m*G+x*z+A*V,n[12]=r*$+a*k+f*H+y*X,n[13]=o*$+u*k+l*H+_*X,n[14]=c*$+s*k+E*H+T*X,n[15]=i*$+m*k+x*H+A*X,n}function Wn(e,t,n){return n=n||Vt(),e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11]),n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n}function gn(e,t){return t=t||Z(),t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Kn(e,t,n){n=n||Z();const r=t*4;return n[0]=e[r+0],n[1]=e[r+1],n[2]=e[r+2],n}function jn(e,t,n,r){r!==e&&(r=zt(e,r));const o=n*4;return r[o+0]=t[0],r[o+1]=t[1],r[o+2]=t[2],r}function qn(e,t,n,r,o){o=o||new p(16);const c=Math.tan(Math.PI*.5-.5*e),i=1/(n-r);return o[0]=c/t,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=c,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(n+r)*i,o[11]=-1,o[12]=0,o[13]=0,o[14]=n*r*i*2,o[15]=0,o}function Zn(e,t,n,r,o,c,i){return i=i||new p(16),i[0]=2/(t-e),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(r-n),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(o-c),i[11]=0,i[12]=(t+e)/(e-t),i[13]=(r+n)/(n-r),i[14]=(c+o)/(o-c),i[15]=1,i}function Jn(e,t,n,r,o,c,i){i=i||new p(16);const a=t-e,u=r-n,s=o-c;return i[0]=2*o/a,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*o/u,i[6]=0,i[7]=0,i[8]=(e+t)/a,i[9]=(r+n)/u,i[10]=c/s,i[11]=-1,i[12]=0,i[13]=0,i[14]=o*c/s,i[15]=0,i}let K,ne,g;function Qn(e,t,n,r){return r=r||new p(16),K=K||Z(),ne=ne||Z(),g=g||Z(),We($n(e,t,g),g),We(wt(n,g,K),K),We(wt(g,K,ne),ne),r[0]=K[0],r[1]=K[1],r[2]=K[2],r[3]=0,r[4]=ne[0],r[5]=ne[1],r[6]=ne[2],r[7]=0,r[8]=g[0],r[9]=g[1],r[10]=g[2],r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r}function er(e,t){return t=t||new p(16),t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function tr(e,t,n){n=n||new p(16);const r=t[0],o=t[1],c=t[2],i=e[0],a=e[1],u=e[2],s=e[3],m=e[1*4+0],f=e[1*4+1],l=e[1*4+2],E=e[1*4+3],x=e[2*4+0],y=e[2*4+1],_=e[2*4+2],T=e[2*4+3],A=e[3*4+0],h=e[3*4+1],F=e[3*4+2],S=e[3*4+3];return e!==n&&(n[0]=i,n[1]=a,n[2]=u,n[3]=s,n[4]=m,n[5]=f,n[6]=l,n[7]=E,n[8]=x,n[9]=y,n[10]=_,n[11]=T),n[12]=i*r+m*o+x*c+A,n[13]=a*r+f*o+y*c+h,n[14]=u*r+l*o+_*c+F,n[15]=s*r+E*o+T*c+S,n}function nr(e,t){t=t||new p(16);const n=Math.cos(e),r=Math.sin(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function rr(e,t,n){n=n||new p(16);const r=e[4],o=e[5],c=e[6],i=e[7],a=e[8],u=e[9],s=e[10],m=e[11],f=Math.cos(t),l=Math.sin(t);return n[4]=f*r+l*a,n[5]=f*o+l*u,n[6]=f*c+l*s,n[7]=f*i+l*m,n[8]=f*a-l*r,n[9]=f*u-l*o,n[10]=f*s-l*c,n[11]=f*m-l*i,e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n}function or(e,t){t=t||new p(16);const n=Math.cos(e),r=Math.sin(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function cr(e,t,n){n=n||new p(16);const r=e[0*4+0],o=e[0*4+1],c=e[0*4+2],i=e[0*4+3],a=e[2*4+0],u=e[2*4+1],s=e[2*4+2],m=e[2*4+3],f=Math.cos(t),l=Math.sin(t);return n[0]=f*r-l*a,n[1]=f*o-l*u,n[2]=f*c-l*s,n[3]=f*i-l*m,n[8]=f*a+l*r,n[9]=f*u+l*o,n[10]=f*s+l*c,n[11]=f*m+l*i,e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n}function ir(e,t){t=t||new p(16);const n=Math.cos(e),r=Math.sin(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ar(e,t,n){n=n||new p(16);const r=e[0*4+0],o=e[0*4+1],c=e[0*4+2],i=e[0*4+3],a=e[1*4+0],u=e[1*4+1],s=e[1*4+2],m=e[1*4+3],f=Math.cos(t),l=Math.sin(t);return n[0]=f*r+l*a,n[1]=f*o+l*u,n[2]=f*c+l*s,n[3]=f*i+l*m,n[4]=f*a-l*r,n[5]=f*u-l*o,n[6]=f*s-l*c,n[7]=f*m-l*i,e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n}function ur(e,t,n){n=n||new p(16);let r=e[0],o=e[1],c=e[2];const i=Math.sqrt(r*r+o*o+c*c);r/=i,o/=i,c/=i;const a=r*r,u=o*o,s=c*c,m=Math.cos(t),f=Math.sin(t),l=1-m;return n[0]=a+(1-a)*m,n[1]=r*o*l+c*f,n[2]=r*c*l-o*f,n[3]=0,n[4]=r*o*l-c*f,n[5]=u+(1-u)*m,n[6]=o*c*l+r*f,n[7]=0,n[8]=r*c*l+o*f,n[9]=o*c*l-r*f,n[10]=s+(1-s)*m,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function sr(e,t,n,r){r=r||new p(16);let o=t[0],c=t[1],i=t[2];const a=Math.sqrt(o*o+c*c+i*i);o/=a,c/=a,i/=a;const u=o*o,s=c*c,m=i*i,f=Math.cos(n),l=Math.sin(n),E=1-f,x=u+(1-u)*f,y=o*c*E+i*l,_=o*i*E-c*l,T=o*c*E-i*l,A=s+(1-s)*f,h=c*i*E+o*l,F=o*i*E+c*l,S=c*i*E-o*l,v=m+(1-m)*f,P=e[0],B=e[1],M=e[2],L=e[3],O=e[4],G=e[5],z=e[6],V=e[7],$=e[8],k=e[9],H=e[10],X=e[11];return r[0]=x*P+y*O+_*$,r[1]=x*B+y*G+_*k,r[2]=x*M+y*z+_*H,r[3]=x*L+y*V+_*X,r[4]=T*P+A*O+h*$,r[5]=T*B+A*G+h*k,r[6]=T*M+A*z+h*H,r[7]=T*L+A*V+h*X,r[8]=F*P+S*O+v*$,r[9]=F*B+S*G+v*k,r[10]=F*M+S*z+v*H,r[11]=F*L+S*V+v*X,e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r}function fr(e,t){return t=t||new p(16),t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function lr(e,t,n){n=n||new p(16);const r=t[0],o=t[1],c=t[2];return n[0]=r*e[0*4+0],n[1]=r*e[0*4+1],n[2]=r*e[0*4+2],n[3]=r*e[0*4+3],n[4]=o*e[1*4+0],n[5]=o*e[1*4+1],n[6]=o*e[1*4+2],n[7]=o*e[1*4+3],n[8]=c*e[2*4+0],n[9]=c*e[2*4+1],n[10]=c*e[2*4+2],n[11]=c*e[2*4+3],e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n}function mr(e,t,n){n=n||Z();const r=t[0],o=t[1],c=t[2],i=r*e[0*4+3]+o*e[1*4+3]+c*e[2*4+3]+e[3*4+3];return n[0]=(r*e[0*4+0]+o*e[1*4+0]+c*e[2*4+0]+e[3*4+0])/i,n[1]=(r*e[0*4+1]+o*e[1*4+1]+c*e[2*4+1]+e[3*4+1])/i,n[2]=(r*e[0*4+2]+o*e[1*4+2]+c*e[2*4+2]+e[3*4+2])/i,n}function xr(e,t,n){n=n||Z();const r=t[0],o=t[1],c=t[2];return n[0]=r*e[0*4+0]+o*e[1*4+0]+c*e[2*4+0],n[1]=r*e[0*4+1]+o*e[1*4+1]+c*e[2*4+1],n[2]=r*e[0*4+2]+o*e[1*4+2]+c*e[2*4+2],n}function yr(e,t,n){n=n||Z();const r=$t(e),o=t[0],c=t[1],i=t[2];return n[0]=o*r[0*4+0]+c*r[0*4+1]+i*r[0*4+2],n[1]=o*r[1*4+0]+c*r[1*4+1]+i*r[1*4+2],n[2]=o*r[2*4+0]+c*r[2*4+1]+i*r[2*4+2],n}var Er=Object.freeze({__proto__:null,axisRotate:sr,axisRotation:ur,copy:zt,create:Xn,frustum:Jn,getAxis:Kn,getTranslation:gn,identity:Vt,inverse:$t,lookAt:Qn,multiply:Yn,negate:Hn,ortho:Zn,perspective:qn,rotateX:rr,rotateY:cr,rotateZ:ar,rotationX:nr,rotationY:or,rotationZ:ir,scale:lr,scaling:fr,setAxis:jn,setDefaultType:kn,setTranslation:Wn,transformDirection:xr,transformNormal:yr,transformPoint:mr,translate:tr,translation:er,transpose:dn});const ct=5120,_e=5121,it=5122,at=5123,ut=5124,st=5125,ft=5126,_r=32819,Tr=32820,Ar=33635,br=5131,hr=33640,Fr=35899,Rr=35902,pr=36269,Sr=34042,kt={};{const e=kt;e[ct]=Int8Array,e[_e]=Uint8Array,e[it]=Int16Array,e[at]=Uint16Array,e[ut]=Int32Array,e[st]=Uint32Array,e[ft]=Float32Array,e[_r]=Uint16Array,e[Tr]=Uint16Array,e[Ar]=Uint16Array,e[br]=Uint16Array,e[hr]=Uint32Array,e[Fr]=Uint32Array,e[Rr]=Uint32Array,e[pr]=Uint32Array,e[Sr]=Uint32Array}function lt(e){if(e instanceof Int8Array)return ct;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return _e;if(e instanceof Int16Array)return it;if(e instanceof Uint16Array)return at;if(e instanceof Int32Array)return ut;if(e instanceof Uint32Array)return st;if(e instanceof Float32Array)return ft;throw new Error("unsupported typed array type")}function Ht(e){if(e===Int8Array)return ct;if(e===Uint8Array||e===Uint8ClampedArray)return _e;if(e===Int16Array)return it;if(e===Uint16Array)return at;if(e===Int32Array)return ut;if(e===Uint32Array)return st;if(e===Float32Array)return ft;throw new Error("unsupported typed array type")}function Xt(e){const t=kt[e];if(!t)throw new Error("unknown gl type");return t}const De=typeof SharedArrayBuffer<"u"?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function dt(...e){console.error(...e)}const Nt=new Map;function mt(e,t){if(!e||typeof e!="object")return!1;let n=Nt.get(t);n||(n=new WeakMap,Nt.set(t,n));let r=n.get(e);if(r===void 0){const o=Object.prototype.toString.call(e);r=o.substring(8,o.length-1)===t,n.set(e,r)}return r}function Ir(e,t){return typeof WebGLBuffer<"u"&&mt(t,"WebGLBuffer")}function Yt(e,t){return typeof WebGLTexture<"u"&&mt(t,"WebGLTexture")}function Pr(e,t){return typeof WebGLSampler<"u"&&mt(t,"WebGLSampler")}const Wt=35044,ae=34962,vr=34963,wr=34660,Nr=5120,Ur=5121,Cr=5122,Dr=5123,Br=5124,Mr=5125,gt=5126,Kt={attribPrefix:""};function Lr(e,t,n,r,o){e.bindBuffer(t,n),e.bufferData(t,r,o||Wt)}function jt(e,t,n,r){if(Ir(e,t))return t;n=n||ae;const o=e.createBuffer();return Lr(e,n,o,t,r),o}function qt(e){return e==="indices"}function Or(e){return e===Int8Array||e===Uint8Array}function Gr(e){return e.length?e:e.data}const zr=/coord|texture/i,Vr=/color|colour/i;function $r(e,t){let n;if(zr.test(e)?n=2:Vr.test(e)?n=4:n=3,t%n>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${n} but ${t} values is not evenly divisible by ${n}. You should specify it.`);return n}function kr(e,t,n){return e.numComponents||e.size||$r(t,n||Gr(e).length)}function Zt(e,t){if(De(e))return e;if(De(e.data))return e.data;Array.isArray(e)&&(e={data:e});let n=e.type?xt(e.type):void 0;return n||(qt(t)?n=Uint16Array:n=Float32Array),new n(e.data)}function Hr(e){return typeof e=="number"?e:e?Ht(e):gt}function xt(e){return typeof e=="number"?Xt(e):e||Float32Array}function Xr(e,t){return{buffer:t.buffer,numValues:2*3*4,type:Hr(t.type),arrayType:xt(t.type)}}function dr(e,t){const n=t.data||t,r=xt(t.type),o=n*r.BYTES_PER_ELEMENT,c=e.createBuffer();return e.bindBuffer(ae,c),e.bufferData(ae,o,t.drawType||Wt),{buffer:c,numValues:n,type:Ht(r),arrayType:r}}function Yr(e,t,n){const r=Zt(t,n);return{arrayType:r.constructor,buffer:jt(e,r,void 0,t.drawType),type:lt(r),numValues:0}}function Wr(e,t){const n={};return Object.keys(t).forEach(function(r){if(!qt(r)){const o=t[r],c=o.attrib||o.name||o.attribName||Kt.attribPrefix+r;if(o.value){if(!Array.isArray(o.value)&&!De(o.value))throw new Error("array.value is not array or typedarray");n[c]={value:o.value}}else{let i;o.buffer&&o.buffer instanceof WebGLBuffer?i=Xr:typeof o=="number"||typeof o.data=="number"?i=dr:i=Yr;const{buffer:a,type:u,numValues:s,arrayType:m}=i(e,o,r),f=o.normalize!==void 0?o.normalize:Or(m),l=kr(o,r,s);n[c]={buffer:a,numComponents:l,type:u,normalize:f,stride:o.stride||0,offset:o.offset||0,divisor:o.divisor===void 0?void 0:o.divisor,drawType:o.drawType}}}}),e.bindBuffer(ae,null),n}function gr(e,t){return t===Nr||t===Ur?1:t===Cr||t===Dr?2:t===Br||t===Mr||t===gt?4:0}const ge=["position","positions","a_position"];function Kr(e,t){let n,r;for(r=0;r<ge.length&&(n=ge[r],!(n in t||(n=Kt.attribPrefix+n,n in t)));++r);r===ge.length&&(n=Object.keys(t)[0]);const o=t[n];if(!o.buffer)return 1;e.bindBuffer(ae,o.buffer);const c=e.getBufferParameter(ae,wr);e.bindBuffer(ae,null);const i=gr(e,o.type),a=c/i,u=o.numComponents||o.size,s=a/u;if(s%1!==0)throw new Error(`numComponents ${u} not correct for length ${length}`);return s}function jr(e,t,n){const r=Wr(e,t),o=Object.assign({},n||{});o.attribs=Object.assign({},n?n.attribs:{},r);const c=t.indices;if(c){const i=Zt(c,"indices");o.indices=jt(e,i,vr),o.numElements=i.length,o.elementType=lt(i)}else o.numElements||(o.numElements=Kr(e,o.attribs));return o}function be(e){return!!e.texStorage2D}const Jt=function(){const e={},t={};function n(r){const o=r.constructor.name;if(!e[o]){for(const c in r)if(typeof r[c]=="number"){const i=t[r[c]];t[r[c]]=i?`${i} | ${c}`:c}e[o]=!0}}return function(o,c){return n(o),t[c]||(typeof c=="number"?`0x${c.toString(16)}`:c)}}(),Q={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Te=De,Qt=function(){let e;return function(){return e=e||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),e}}(),qe=6406,Y=6407,R=6408,Ze=6409,Je=6410,le=6402,Qe=34041,Be=33071,qr=9728,Zr=9729,ee=3553,J=34067,ue=32879,se=35866,yt=34069,Jr=34070,Qr=34071,eo=34072,to=34073,no=34074,et=10241,tt=10240,Me=10242,Le=10243,Ut=32882,ro=33082,oo=33083,co=33084,io=33085,ao=34892,uo=34893,Et=3317,en=3314,tn=32878,nn=3316,rn=3315,on=32877,so=37443,fo=37441,lo=37440,mo=33321,xo=36756,yo=33325,Eo=33326,_o=33330,To=33329,Ao=33338,bo=33337,ho=33340,Fo=33339,Ro=33323,po=36757,So=33327,Io=33328,Po=33336,vo=33335,wo=33332,No=33331,Uo=33334,Co=33333,Do=32849,Bo=35905,Mo=36194,Lo=36758,Oo=35898,Go=35901,zo=34843,Vo=34837,$o=36221,ko=36239,Ho=36215,Xo=36233,Yo=36209,Wo=36227,go=32856,Ko=35907,jo=36759,qo=32855,Zo=32854,Jo=32857,Qo=34842,ec=34836,tc=36220,nc=36238,rc=36975,oc=36214,cc=36232,ic=36226,ac=36208,uc=33189,sc=33190,fc=36012,lc=36013,mc=35056,j=5120,I=5121,Ne=5122,fe=5123,Ue=5124,re=5125,U=5126,Ct=32819,Dt=32820,Bt=33635,W=5131,xe=36193,Ke=33640,xc=35899,yc=35902,Ec=36269,_c=34042,ye=33319,oe=33320,Ee=6403,ce=36244,ie=36248,q=36249,Tc={};{const e=Tc;e[qe]={numColorComponents:1},e[Ze]={numColorComponents:1},e[Je]={numColorComponents:2},e[Y]={numColorComponents:3},e[R]={numColorComponents:4},e[Ee]={numColorComponents:1},e[ce]={numColorComponents:1},e[ye]={numColorComponents:2},e[oe]={numColorComponents:2},e[Y]={numColorComponents:3},e[ie]={numColorComponents:3},e[R]={numColorComponents:4},e[q]={numColorComponents:4},e[le]={numColorComponents:1},e[Qe]={numColorComponents:2}}let je;function ze(e){if(!je){const t={};t[qe]={textureFormat:qe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[I,W,xe,U]},t[Ze]={textureFormat:Ze,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[I,W,xe,U]},t[Je]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[I,W,xe,U]},t[Y]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[I,W,xe,U,Bt]},t[R]={textureFormat:R,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[I,W,xe,U,Ct,Dt]},t[le]={textureFormat:le,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[re,fe]},t[mo]={textureFormat:Ee,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[I]},t[xo]={textureFormat:Ee,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[j]},t[yo]={textureFormat:Ee,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[U,W]},t[Eo]={textureFormat:Ee,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[U]},t[_o]={textureFormat:ce,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[I]},t[To]={textureFormat:ce,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[j]},t[wo]={textureFormat:ce,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[fe]},t[No]={textureFormat:ce,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ne]},t[Uo]={textureFormat:ce,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[re]},t[Co]={textureFormat:ce,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ue]},t[Ro]={textureFormat:ye,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[I]},t[po]={textureFormat:ye,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[j]},t[So]={textureFormat:ye,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[U,W]},t[Io]={textureFormat:ye,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[U]},t[Po]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[I]},t[vo]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[j]},t[Ao]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[fe]},t[bo]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ne]},t[ho]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[re]},t[Fo]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Ue]},t[Do]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[I]},t[Bo]={textureFormat:Y,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[I]},t[Mo]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[I,Bt]},t[Lo]={textureFormat:Y,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[j]},t[Oo]={textureFormat:Y,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[U,W,xc]},t[Go]={textureFormat:Y,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[U,W,yc]},t[zo]={textureFormat:Y,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[U,W]},t[Vo]={textureFormat:Y,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[U]},t[$o]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[I]},t[ko]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[j]},t[Ho]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[fe]},t[Xo]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Ne]},t[Yo]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[re]},t[Wo]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Ue]},t[go]={textureFormat:R,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[I]},t[Ko]={textureFormat:R,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[I]},t[jo]={textureFormat:R,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[j]},t[qo]={textureFormat:R,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[I,Dt,Ke]},t[Zo]={textureFormat:R,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[I,Ct]},t[Jo]={textureFormat:R,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ke]},t[Qo]={textureFormat:R,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[U,W]},t[ec]={textureFormat:R,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[U]},t[tc]={textureFormat:q,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[I]},t[nc]={textureFormat:q,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[j]},t[rc]={textureFormat:q,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ke]},t[oc]={textureFormat:q,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[fe]},t[cc]={textureFormat:q,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Ne]},t[ic]={textureFormat:q,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Ue]},t[ac]={textureFormat:q,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[re]},t[uc]={textureFormat:le,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[fe,re]},t[sc]={textureFormat:le,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[re]},t[fc]={textureFormat:le,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[U]},t[mc]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_c]},t[lc]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ec]},Object.keys(t).forEach(function(n){const r=t[n];r.bytesPerElementMap={},r.bytesPerElement.forEach(function(o,c){const i=r.type[c];r.bytesPerElementMap[i]=o})}),je=t}return je[e]}function Ac(e,t){const n=ze(e);if(!n)throw"unknown internal format";const r=n.bytesPerElementMap[t];if(r===void 0)throw"unknown internal format";return r}function he(e){const t=ze(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function Mt(e){return(e&e-1)===0}function bc(e,t,n,r){if(!be(e))return Mt(t)&&Mt(n);const o=ze(r);if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}function hc(e){const t=ze(e);if(!t)throw"unknown internal format";return t.textureFilterable}function Fc(e,t,n){return Te(t)?lt(t):n||I}function Ce(e,t,n,r,o){if(o%1!==0)throw"can't guess dimensions";if(!n&&!r){const c=Math.sqrt(o/(t===J?6:1));c%1===0?(n=c,r=c):(n=o,r=1)}else if(r){if(!n&&(n=o/r,n%1))throw"can't guess dimensions"}else if(r=o/n,r%1)throw"can't guess dimensions";return{width:n,height:r}}function me(e,t){t.colorspaceConversion!==void 0&&e.pixelStorei(so,t.colorspaceConversion),t.premultiplyAlpha!==void 0&&e.pixelStorei(fo,t.premultiplyAlpha),t.flipY!==void 0&&e.pixelStorei(lo,t.flipY)}function cn(e){e.pixelStorei(Et,4),be(e)&&(e.pixelStorei(en,0),e.pixelStorei(tn,0),e.pixelStorei(nn,0),e.pixelStorei(rn,0),e.pixelStorei(on,0))}function Rc(e,t,n,r){r.minMag&&(n.call(e,t,et,r.minMag),n.call(e,t,tt,r.minMag)),r.min&&n.call(e,t,et,r.min),r.mag&&n.call(e,t,tt,r.mag),r.wrap&&(n.call(e,t,Me,r.wrap),n.call(e,t,Le,r.wrap),(t===ue||Pr(e,t))&&n.call(e,t,Ut,r.wrap)),r.wrapR&&n.call(e,t,Ut,r.wrapR),r.wrapS&&n.call(e,t,Me,r.wrapS),r.wrapT&&n.call(e,t,Le,r.wrapT),r.minLod!==void 0&&n.call(e,t,ro,r.minLod),r.maxLod!==void 0&&n.call(e,t,oo,r.maxLod),r.baseLevel!==void 0&&n.call(e,t,co,r.baseLevel),r.maxLevel!==void 0&&n.call(e,t,io,r.maxLevel),r.compareFunc!==void 0&&n.call(e,t,uo,r.compareFunc),r.compareMode!==void 0&&n.call(e,t,ao,r.compareMode)}function an(e,t,n){const r=n.target||ee;e.bindTexture(r,t),Rc(e,r,e.texParameteri,n)}function pc(e){return e=e||Q.textureColor,Te(e)?e:new Uint8Array([e[0]*255,e[1]*255,e[2]*255,e[3]*255])}function nt(e,t,n,r,o,c){n=n||Q.textureOptions,c=c||R;const i=n.target||ee;if(r=r||n.width,o=o||n.height,e.bindTexture(i,t),bc(e,r,o,c))e.generateMipmap(i);else{const a=hc(c)?Zr:qr;e.texParameteri(i,et,a),e.texParameteri(i,tt,a),e.texParameteri(i,Me,Be),e.texParameteri(i,Le,Be)}}function Ae(e){return e.auto===!0||e.auto===void 0&&e.level===void 0}function rt(e,t){return t=t||{},t.cubeFaceOrder||[yt,Jr,Qr,eo,to,no]}function ot(e,t){const r=rt(e,t).map(function(o,c){return{face:o,ndx:c}});return r.sort(function(o,c){return o.face-c.face}),r}function un(e,t,n,r){r=r||Q.textureOptions;const o=r.target||ee,c=r.level||0;let i=n.width,a=n.height;const u=r.internalFormat||r.format||R,s=he(u),m=r.format||s.format,f=r.type||s.type;if(me(e,r),e.bindTexture(o,t),o===J){const l=n.width,E=n.height;let x,y;if(l/6===E)x=E,y=[0,0,1,0,2,0,3,0,4,0,5,0];else if(E/6===l)x=l,y=[0,0,0,1,0,2,0,3,0,4,0,5];else if(l/3===E/2)x=l/3,y=[0,0,1,0,2,0,0,1,1,1,2,1];else if(l/2===E/3)x=l/2,y=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);const _=Qt();_?(_.canvas.width=x,_.canvas.height=x,i=x,a=x,ot(e,r).forEach(function(T){const A=y[T.ndx*2+0]*x,h=y[T.ndx*2+1]*x;_.drawImage(n,A,h,x,x,0,0,x,x),e.texImage2D(T.face,c,u,m,f,_.canvas)}),_.canvas.width=1,_.canvas.height=1):typeof createImageBitmap<"u"&&(i=x,a=x,ot(e,r).forEach(function(T){const A=y[T.ndx*2+0]*x,h=y[T.ndx*2+1]*x;e.texImage2D(T.face,c,u,x,x,0,m,f,null),createImageBitmap(n,A,h,x,x,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(F){me(e,r),e.bindTexture(o,t),e.texImage2D(T.face,c,u,m,f,F),Ae(r)&&nt(e,t,r,i,a,u)})}))}else if(o===ue||o===se){const l=Math.min(n.width,n.height),E=Math.max(n.width,n.height),x=E/l;if(x%1!==0)throw"can not compute 3D dimensions of element";const y=n.width===E?1:0,_=n.height===E?1:0;e.pixelStorei(Et,1),e.pixelStorei(en,n.width),e.pixelStorei(tn,0),e.pixelStorei(on,0),e.texImage3D(o,c,u,l,l,l,0,m,f,null);for(let T=0;T<x;++T){const A=T*l*y,h=T*l*_;e.pixelStorei(nn,A),e.pixelStorei(rn,h),e.texSubImage3D(o,c,0,0,T,l,l,1,m,f,n)}cn(e)}else e.texImage2D(o,c,u,m,f,n);Ae(r)&&nt(e,t,r,i,a,u),an(e,t,r)}function Fe(){}function Sc(e){if(typeof document<"u"){const t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}else{const t=new URL(location.href).origin;return new URL(e,location.href).origin===t}}function Ic(e,t){return t===void 0&&!Sc(e)?"anonymous":t}function Pc(e,t,n){n=n||Fe;let r;if(t=t!==void 0?t:Q.crossOrigin,t=Ic(e,t),typeof Image<"u"){r=new Image,t!==void 0&&(r.crossOrigin=t);const o=function(){r.removeEventListener("error",c),r.removeEventListener("load",i),r=null},c=function(){const u="couldn't load image: "+e;dt(u),n(u,r),o()},i=function(){n(null,r),o()};return r.addEventListener("error",c),r.addEventListener("load",i),r.src=e,r}else if(typeof ImageBitmap<"u"){let o,c;const i=function(){n(o,c)},a={};t&&(a.mode="cors"),fetch(e,a).then(function(u){if(!u.ok)throw u;return u.blob()}).then(function(u){return createImageBitmap(u,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(u){c=u,setTimeout(i)}).catch(function(u){o=u,setTimeout(i)}),r=null}return r}function sn(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof ImageData<"u"&&e instanceof ImageData||typeof HTMLElement<"u"&&e instanceof HTMLElement}function _t(e,t,n){return sn(e)?(setTimeout(function(){n(null,e)}),e):Pc(e,t,n)}function Tt(e,t,n){n=n||Q.textureOptions;const r=n.target||ee;if(e.bindTexture(r,t),n.color===!1)return;const o=pc(n.color);if(r===J)for(let c=0;c<6;++c)e.texImage2D(yt+c,0,R,1,1,0,R,I,o);else r===ue||r===se?e.texImage3D(r,0,R,1,1,1,0,R,I,o):e.texImage2D(r,0,R,1,1,0,R,I,o)}function vc(e,t,n,r){return r=r||Fe,n=n||Q.textureOptions,Tt(e,t,n),n=Object.assign({},n),_t(n.src,n.crossOrigin,function(c,i){c?r(c,t,i):(un(e,t,i,n),r(null,t,i))})}function wc(e,t,n,r){r=r||Fe;const o=n.src;if(o.length!==6)throw"there must be 6 urls for a cubemap";const c=n.level||0,i=n.internalFormat||n.format||R,a=he(i),u=n.format||a.format,s=n.type||I,m=n.target||ee;if(m!==J)throw"target must be TEXTURE_CUBE_MAP";Tt(e,t,n),n=Object.assign({},n);let f=6;const l=[],E=rt(e,n);let x;function y(_){return function(T,A){--f,T?l.push(T):A.width!==A.height?l.push("cubemap face img is not a square: "+A.src):(me(e,n),e.bindTexture(m,t),f===5?rt().forEach(function(h){e.texImage2D(h,c,i,u,s,A)}):e.texImage2D(_,c,i,u,s,A),Ae(n)&&e.generateMipmap(m)),f===0&&r(l.length?l:void 0,t,x)}}x=o.map(function(_,T){return _t(_,n.crossOrigin,y(E[T]))})}function Nc(e,t,n,r){r=r||Fe;const o=n.src,c=n.internalFormat||n.format||R,i=he(c),a=n.format||i.format,u=n.type||I,s=n.target||se;if(s!==ue&&s!==se)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Tt(e,t,n),n=Object.assign({},n);let m=o.length;const f=[];let l;const E=n.level||0;let x=n.width,y=n.height;const _=o.length;let T=!0;function A(h){return function(F,S){if(--m,F)f.push(F);else{if(me(e,n),e.bindTexture(s,t),T){T=!1,x=n.width||S.width,y=n.height||S.height,e.texImage3D(s,E,c,x,y,_,0,a,u,null);for(let v=0;v<_;++v)e.texSubImage3D(s,E,0,0,v,x,y,1,a,u,S)}else{let v=S,P;(S.width!==x||S.height!==y)&&(P=Qt(),v=P.canvas,P.canvas.width=x,P.canvas.height=y,P.drawImage(S,0,0,x,y)),e.texSubImage3D(s,E,0,0,h,x,y,1,a,u,v),P&&v===P.canvas&&(P.canvas.width=0,P.canvas.height=0)}Ae(n)&&e.generateMipmap(s)}m===0&&r(f.length?f:void 0,t,l)}}l=o.map(function(h,F){return _t(h,n.crossOrigin,A(F))})}function Uc(e,t,n,r){r=r||Q.textureOptions;const o=r.target||ee;e.bindTexture(o,t);let c=r.width,i=r.height,a=r.depth;const u=r.level||0,s=r.internalFormat||r.format||R,m=he(s),f=r.format||m.format,l=r.type||Fc(e,n,m.type);if(Te(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{const _=Xt(l);n=new _(n)}const E=Ac(s,l),x=n.byteLength/E;if(x%1)throw"length wrong size for format: "+Jt(e,f);let y;if(o===ue||o===se)if(!c&&!i&&!a){const _=Math.cbrt(x);if(_%1!==0)throw"can't guess cube size of array of numElements: "+x;c=_,i=_,a=_}else c&&(!i||!a)?(y=Ce(e,o,i,a,x/c),i=y.width,a=y.height):i&&(!c||!a)?(y=Ce(e,o,c,a,x/i),c=y.width,a=y.height):(y=Ce(e,o,c,i,x/a),c=y.width,i=y.height);else y=Ce(e,o,c,i,x),c=y.width,i=y.height;if(cn(e),e.pixelStorei(Et,r.unpackAlignment||1),me(e,r),o===J){const _=E/n.BYTES_PER_ELEMENT,T=x/6*_;ot(e,r).forEach(A=>{const h=T*A.ndx,F=n.subarray(h,h+T);e.texImage2D(A.face,u,s,c,i,0,f,l,F)})}else o===ue||o===se?e.texImage3D(o,u,s,c,i,a,0,f,l,n):e.texImage2D(o,u,s,c,i,0,f,l,n);return{width:c,height:i,depth:a,type:l}}function Cc(e,t,n){const r=n.target||ee;e.bindTexture(r,t);const o=n.level||0,c=n.internalFormat||n.format||R,i=he(c),a=n.format||i.format,u=n.type||i.type;if(me(e,n),r===J)for(let s=0;s<6;++s)e.texImage2D(yt+s,o,c,n.width,n.height,0,a,u,null);else r===ue||r===se?e.texImage3D(r,o,c,n.width,n.height,n.depth,0,a,u,null):e.texImage2D(r,o,c,n.width,n.height,0,a,u,null)}function Dc(e,t,n){n=n||Fe,t=t||Q.textureOptions;const r=e.createTexture(),o=t.target||ee;let c=t.width||1,i=t.height||1;const a=t.internalFormat||R;e.bindTexture(o,r),o===J&&(e.texParameteri(o,Me,Be),e.texParameteri(o,Le,Be));let u=t.src;if(u)if(typeof u=="function"&&(u=u(e,t)),typeof u=="string")vc(e,r,t,n);else if(Te(u)||Array.isArray(u)&&(typeof u[0]=="number"||Array.isArray(u[0])||Te(u[0]))){const s=Uc(e,r,u,t);c=s.width,i=s.height}else Array.isArray(u)&&(typeof u[0]=="string"||sn(u[0]))?o===J?wc(e,r,t,n):Nc(e,r,t,n):(un(e,r,u,t),c=u.width,i=u.height);else Cc(e,r,t);return Ae(t)&&nt(e,r,t,c,i,a),an(e,r,t),r}const At=dt;function fn(e){return typeof document<"u"&&document.getElementById?document.getElementById(e):null}const Oe=33984,Ve=34962,Bc=34963,Mc=35713,Lc=35714,Oc=35632,Gc=35633,zc=35981,ln=35718,Vc=35721,$c=35971,kc=35382,Hc=35396,Xc=35398,dc=35392,Yc=35395,$e=5126,mn=35664,xn=35665,yn=35666,bt=5124,En=35667,_n=35668,Tn=35669,An=35670,bn=35671,hn=35672,Fn=35673,Rn=35674,pn=35675,Sn=35676,Wc=35678,gc=35680,Kc=35679,jc=35682,qc=35685,Zc=35686,Jc=35687,Qc=35688,ei=35689,ti=35690,ni=36289,ri=36292,oi=36293,ht=5125,In=36294,Pn=36295,vn=36296,ci=36298,ii=36299,ai=36300,ui=36303,si=36306,fi=36307,li=36308,mi=36311,ke=3553,He=34067,Ft=32879,Xe=35866,b={};function wn(e,t){return b[t].bindPoint}function xi(e,t){return function(n){e.uniform1f(t,n)}}function yi(e,t){return function(n){e.uniform1fv(t,n)}}function Ei(e,t){return function(n){e.uniform2fv(t,n)}}function _i(e,t){return function(n){e.uniform3fv(t,n)}}function Ti(e,t){return function(n){e.uniform4fv(t,n)}}function Nn(e,t){return function(n){e.uniform1i(t,n)}}function Un(e,t){return function(n){e.uniform1iv(t,n)}}function Cn(e,t){return function(n){e.uniform2iv(t,n)}}function Dn(e,t){return function(n){e.uniform3iv(t,n)}}function Bn(e,t){return function(n){e.uniform4iv(t,n)}}function Ai(e,t){return function(n){e.uniform1ui(t,n)}}function bi(e,t){return function(n){e.uniform1uiv(t,n)}}function hi(e,t){return function(n){e.uniform2uiv(t,n)}}function Fi(e,t){return function(n){e.uniform3uiv(t,n)}}function Ri(e,t){return function(n){e.uniform4uiv(t,n)}}function pi(e,t){return function(n){e.uniformMatrix2fv(t,!1,n)}}function Si(e,t){return function(n){e.uniformMatrix3fv(t,!1,n)}}function Ii(e,t){return function(n){e.uniformMatrix4fv(t,!1,n)}}function Pi(e,t){return function(n){e.uniformMatrix2x3fv(t,!1,n)}}function vi(e,t){return function(n){e.uniformMatrix3x2fv(t,!1,n)}}function wi(e,t){return function(n){e.uniformMatrix2x4fv(t,!1,n)}}function Ni(e,t){return function(n){e.uniformMatrix4x2fv(t,!1,n)}}function Ui(e,t){return function(n){e.uniformMatrix3x4fv(t,!1,n)}}function Ci(e,t){return function(n){e.uniformMatrix4x3fv(t,!1,n)}}function C(e,t,n,r){const o=wn(e,t);return be(e)?function(c){let i,a;!c||Yt(e,c)?(i=c,a=null):(i=c.texture,a=c.sampler),e.uniform1i(r,n),e.activeTexture(Oe+n),e.bindTexture(o,i),e.bindSampler(n,a)}:function(c){e.uniform1i(r,n),e.activeTexture(Oe+n),e.bindTexture(o,c)}}function D(e,t,n,r,o){const c=wn(e,t),i=new Int32Array(o);for(let a=0;a<o;++a)i[a]=n+a;return be(e)?function(a){e.uniform1iv(r,i),a.forEach(function(u,s){e.activeTexture(Oe+i[s]);let m,f;!u||Yt(e,u)?(m=u,f=null):(m=u.texture,f=u.sampler),e.bindSampler(n,f),e.bindTexture(c,m)})}:function(a){e.uniform1iv(r,i),a.forEach(function(u,s){e.activeTexture(Oe+i[s]),e.bindTexture(c,u)})}}b[$e]={Type:Float32Array,size:4,setter:xi,arraySetter:yi};b[mn]={Type:Float32Array,size:8,setter:Ei,cols:2};b[xn]={Type:Float32Array,size:12,setter:_i,cols:3};b[yn]={Type:Float32Array,size:16,setter:Ti,cols:4};b[bt]={Type:Int32Array,size:4,setter:Nn,arraySetter:Un};b[En]={Type:Int32Array,size:8,setter:Cn,cols:2};b[_n]={Type:Int32Array,size:12,setter:Dn,cols:3};b[Tn]={Type:Int32Array,size:16,setter:Bn,cols:4};b[ht]={Type:Uint32Array,size:4,setter:Ai,arraySetter:bi};b[In]={Type:Uint32Array,size:8,setter:hi,cols:2};b[Pn]={Type:Uint32Array,size:12,setter:Fi,cols:3};b[vn]={Type:Uint32Array,size:16,setter:Ri,cols:4};b[An]={Type:Uint32Array,size:4,setter:Nn,arraySetter:Un};b[bn]={Type:Uint32Array,size:8,setter:Cn,cols:2};b[hn]={Type:Uint32Array,size:12,setter:Dn,cols:3};b[Fn]={Type:Uint32Array,size:16,setter:Bn,cols:4};b[Rn]={Type:Float32Array,size:32,setter:pi,rows:2,cols:2};b[pn]={Type:Float32Array,size:48,setter:Si,rows:3,cols:3};b[Sn]={Type:Float32Array,size:64,setter:Ii,rows:4,cols:4};b[qc]={Type:Float32Array,size:32,setter:Pi,rows:2,cols:3};b[Zc]={Type:Float32Array,size:32,setter:wi,rows:2,cols:4};b[Jc]={Type:Float32Array,size:48,setter:vi,rows:3,cols:2};b[Qc]={Type:Float32Array,size:48,setter:Ui,rows:3,cols:4};b[ei]={Type:Float32Array,size:64,setter:Ni,rows:4,cols:2};b[ti]={Type:Float32Array,size:64,setter:Ci,rows:4,cols:3};b[Wc]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:ke};b[gc]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:He};b[Kc]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:Ft};b[jc]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:ke};b[ni]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:Xe};b[ri]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:Xe};b[oi]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:He};b[ci]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:ke};b[ii]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:Ft};b[ai]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:He};b[ui]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:Xe};b[si]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:ke};b[fi]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:Ft};b[li]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:He};b[mi]={Type:null,size:0,setter:C,arraySetter:D,bindPoint:Xe};function de(e,t){return function(n){if(n.value)switch(e.disableVertexAttribArray(t),n.value.length){case 4:e.vertexAttrib4fv(t,n.value);break;case 3:e.vertexAttrib3fv(t,n.value);break;case 2:e.vertexAttrib2fv(t,n.value);break;case 1:e.vertexAttrib1fv(t,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(Ve,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,n.numComponents||n.size,n.type||$e,n.normalize||!1,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function te(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4iv(t,n.value);else throw new Error("The length of an integer constant value must be 4!");else e.bindBuffer(Ve,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||bt,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function Ye(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4uiv(t,n.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else e.bindBuffer(Ve,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||ht,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function Rt(e,t,n){const r=n.size,o=n.count;return function(c){e.bindBuffer(Ve,c.buffer);const i=c.size||c.numComponents||r,a=i/o,u=c.type||$e,m=b[u].size*i,f=c.normalize||!1,l=c.offset||0,E=m/o;for(let x=0;x<o;++x)e.enableVertexAttribArray(t+x),e.vertexAttribPointer(t+x,a,u,f,m,l+E*x),e.vertexAttribDivisor&&e.vertexAttribDivisor(t+x,c.divisor||0)}}const w={};w[$e]={size:4,setter:de};w[mn]={size:8,setter:de};w[xn]={size:12,setter:de};w[yn]={size:16,setter:de};w[bt]={size:4,setter:te};w[En]={size:8,setter:te};w[_n]={size:12,setter:te};w[Tn]={size:16,setter:te};w[ht]={size:4,setter:Ye};w[In]={size:8,setter:Ye};w[Pn]={size:12,setter:Ye};w[vn]={size:16,setter:Ye};w[An]={size:4,setter:te};w[bn]={size:8,setter:te};w[hn]={size:12,setter:te};w[Fn]={size:16,setter:te};w[Rn]={size:4,setter:Rt,count:2};w[pn]={size:9,setter:Rt,count:3};w[Sn]={size:16,setter:Rt,count:4};const Di=/ERROR:\s*\d+:(\d+)/gi;function Bi(e,t="",n=0){const r=[...t.matchAll(Di)],o=new Map(r.map((c,i)=>{const a=parseInt(c[1]),u=r[i+1],s=u?u.index:t.length,m=t.substring(c.index,s);return[a-1,m]}));return e.split(`
`).map((c,i)=>{const a=o.get(i);return`${i+1+n}: ${c}${a?`

^^^ ${a}`:""}`}).join(`
`)}const Lt=/^[ \t]*\n/;function Mn(e){let t=0;return Lt.test(e)&&(t=1,e=e.replace(Lt,"")),{lineOffset:t,shaderSource:e}}function Mi(e,t){return e.errorCallback(t),e.callback&&setTimeout(()=>{e.callback(`${t}
${e.errors.join(`
`)}`)}),null}function Li(e,t,n,r){if(r=r||At,!e.getShaderParameter(n,Mc)){const c=e.getShaderInfoLog(n),{lineOffset:i,shaderSource:a}=Mn(e.getShaderSource(n)),u=`${Bi(a,c,i)}
Error compiling ${Jt(e,t)}: ${c}`;return r(u),u}return""}function pt(e,t,n){let r,o,c;if(typeof t=="function"&&(n=t,t=void 0),typeof e=="function")n=e,e=void 0;else if(e&&!Array.isArray(e)){const s=e;n=s.errorCallback,e=s.attribLocations,r=s.transformFeedbackVaryings,o=s.transformFeedbackMode,c=s.callback}const i=n||At,a=[],u={errorCallback(s,...m){a.push(s),i(s,...m)},transformFeedbackVaryings:r,transformFeedbackMode:o,callback:c,errors:a};{let s={};Array.isArray(e)?e.forEach(function(m,f){s[m]=t?t[f]:f}):s=e||{},u.attribLocations=s}return u}const Oi=["VERTEX_SHADER","FRAGMENT_SHADER"];function Gi(e,t){if(t.indexOf("frag")>=0)return Oc;if(t.indexOf("vert")>=0)return Gc}function zi(e,t,n){const r=e.getAttachedShaders(t);for(const o of r)n.has(o)&&e.deleteShader(o);e.deleteProgram(t)}const Vi=(e=0)=>new Promise(t=>setTimeout(t,e));function $i(e,t,n){const r=e.createProgram(),{attribLocations:o,transformFeedbackVaryings:c,transformFeedbackMode:i}=pt(n);for(let a=0;a<t.length;++a){let u=t[a];if(typeof u=="string"){const s=fn(u),m=s?s.text:u;let f=e[Oi[a]];s&&s.type&&(f=Gi(e,s.type)||f),u=e.createShader(f),e.shaderSource(u,Mn(m).shaderSource),e.compileShader(u),e.attachShader(r,u)}}Object.entries(o).forEach(([a,u])=>e.bindAttribLocation(r,u,a));{let a=c;a&&(a.attribs&&(a=a.attribs),Array.isArray(a)||(a=Object.keys(a)),e.transformFeedbackVaryings(r,a,i||zc))}return e.linkProgram(r),r}function ki(e,t,n,r,o){const c=pt(n,r,o),i=new Set(t),a=$i(e,t,c);function u(s,m){const f=Xi(s,m,c.errorCallback);return f&&zi(s,m,i),f}if(c.callback){Hi(e,a).then(()=>{const s=u(e,a);c.callback(s,s?void 0:a)});return}return u(e,a)?void 0:a}async function Hi(e,t){const n=e.getExtension("KHR_parallel_shader_compile"),r=n?(c,i)=>c.getProgramParameter(i,n.COMPLETION_STATUS_KHR):()=>!0;let o=0;do await Vi(o),o=1e3/60;while(!r(e,t))}function Xi(e,t,n){if(n=n||At,!e.getProgramParameter(t,Lc)){const o=e.getProgramInfoLog(t);n(`Error in program linking: ${o}`);const i=e.getAttachedShaders(t).map(a=>Li(e,e.getShaderParameter(a,e.SHADER_TYPE),a,n));return`${o}
${i.filter(a=>a).join(`
`)}`}}function di(e,t,n,r,o){return ki(e,t,n,r,o)}function Ln(e){const t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}const Yi=/(\.|\[|]|\w+)/g,Wi=e=>e>="0"&&e<="9";function gi(e,t,n,r){const o=e.split(Yi).filter(a=>a!=="");let c=0,i="";for(;;){const a=o[c++];i+=a;const u=Wi(a[0]),s=u?parseInt(a):a;if(u&&(i+=o[c++]),c===o.length){n[s]=t;break}else{const f=o[c++],l=f==="[",E=n[s]||(l?[]:{});n[s]=E,n=E,r[i]=r[i]||function(x){return function(y){On(x,y)}}(E),i+=f}}}function Ki(e,t){let n=0;function r(a,u,s){const m=u.name.endsWith("[0]"),f=u.type,l=b[f];if(!l)throw new Error(`unknown type: 0x${f.toString(16)}`);let E;if(l.bindPoint){const x=n;n+=u.size,m?E=l.arraySetter(e,f,x,s,u.size):E=l.setter(e,f,x,s,u.size)}else l.arraySetter&&m?E=l.arraySetter(e,s):E=l.setter(e,s);return E.location=s,E}const o={},c={},i=e.getProgramParameter(t,ln);for(let a=0;a<i;++a){const u=e.getActiveUniform(t,a);if(Ln(u))continue;let s=u.name;s.endsWith("[0]")&&(s=s.substr(0,s.length-3));const m=e.getUniformLocation(t,u.name);if(m){const f=r(t,u,m);o[s]=f,gi(s,f,c,o)}}return o}function ji(e,t){const n={},r=e.getProgramParameter(t,$c);for(let o=0;o<r;++o){const c=e.getTransformFeedbackVarying(t,o);n[c.name]={index:o,type:c.type,size:c.size}}return n}function qi(e,t){const n=e.getProgramParameter(t,ln),r=[],o=[];for(let a=0;a<n;++a){o.push(a),r.push({});const u=e.getActiveUniform(t,a);r[a].name=u.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const u=a[0],s=a[1];e.getActiveUniforms(t,o,e[u]).forEach(function(m,f){r[f][s]=m})});const c={},i=e.getProgramParameter(t,kc);for(let a=0;a<i;++a){const u=e.getActiveUniformBlockName(t,a),s={index:e.getUniformBlockIndex(t,u),usedByVertexShader:e.getActiveUniformBlockParameter(t,a,Hc),usedByFragmentShader:e.getActiveUniformBlockParameter(t,a,Xc),size:e.getActiveUniformBlockParameter(t,a,dc),uniformIndices:e.getActiveUniformBlockParameter(t,a,Yc)};s.used=s.usedByVertexShader||s.usedByFragmentShader,c[u]=s}return{blockSpecs:c,uniformData:r}}function On(e,t){for(const n in t){const r=e[n];typeof r=="function"?r(t[n]):On(e[n],t[n])}}function Gn(e,...t){const n=e.uniformSetters||e,r=t.length;for(let o=0;o<r;++o){const c=t[o];if(Array.isArray(c)){const i=c.length;for(let a=0;a<i;++a)Gn(n,c[a])}else for(const i in c){const a=n[i];a&&a(c[i])}}}function Zi(e,t){const n={},r=e.getProgramParameter(t,Vc);for(let o=0;o<r;++o){const c=e.getActiveAttrib(t,o);if(Ln(c))continue;const i=e.getAttribLocation(t,c.name),a=w[c.type],u=a.setter(e,i,a);u.location=i,n[c.name]=u}return n}function Ji(e,t){for(const n in t){const r=e[n];r&&r(t[n])}}function zn(e,t,n){n.vertexArrayObject?e.bindVertexArray(n.vertexArrayObject):(Ji(t.attribSetters||t,n.attribs),n.indices&&e.bindBuffer(Bc,n.indices))}function Ot(e,t){const n=Ki(e,t),r=Zi(e,t),o={program:t,uniformSetters:n,attribSetters:r};return be(e)&&(o.uniformBlockSpec=qi(e,t),o.transformFeedbackInfo=ji(e,t)),o}const Qi=/\s|{|}|;/;function ea(e,t,n,r,o){const c=pt(n,r,o),i=[];if(t=t.map(function(s){if(!Qi.test(s)){const m=fn(s);if(m)s=m.text;else{const f=`no element with id: ${s}`;c.errorCallback(f),i.push(f)}}return s}),i.length)return Mi(c,"");const a=c.callback;a&&(c.callback=(s,m)=>{a(s,s?void 0:Ot(e,m))});const u=di(e,t,c);return u?Ot(e,u):null}const ta=4,Gt=5123;function na(e,t,n,r,o,c){n=n===void 0?ta:n;const i=t.indices,a=t.elementType,u=r===void 0?t.numElements:r;o=o===void 0?0:o,a||i?c!==void 0?e.drawElementsInstanced(n,u,a===void 0?Gt:t.elementType,o,c):e.drawElements(n,u,a===void 0?Gt:t.elementType,o):c!==void 0?e.drawArraysInstanced(n,o,u,c):e.drawArrays(n,o,u)}function ra(e,t,n){const r=e.createVertexArray();return e.bindVertexArray(r),t.length||(t=[t]),t.forEach(function(o){zn(e,o,n)}),e.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:r}}function oa(e,t){t=t||1,t=Math.max(0,t);const n=e.clientWidth*t|0,r=e.clientHeight*t|0;return e.width!==n||e.height!==r?(e.width=n,e.height=r,!0):!1}const ca=`#version 300 es

uniform mat4 u_worldViewProjection;
uniform vec3 u_lightWorldPos;
uniform mat4 u_world;
uniform mat4 u_viewInverse;
uniform mat4 u_worldInverseTranspose;

in vec4 position;
in vec3 normal;
in vec2 texcoord;

out vec4 v_position;
out vec2 v_texCoord;
out vec3 v_normal;
out vec3 v_surfaceToLight;
out vec3 v_surfaceToView;

void main() {
  v_texCoord = texcoord;
  v_position = u_worldViewProjection * position;
  v_normal = (u_worldInverseTranspose * vec4(normal, 0)).xyz;
  v_surfaceToLight = u_lightWorldPos - (u_world * position).xyz;
  v_surfaceToView = (u_viewInverse[3] - (u_world * position)).xyz;
  gl_Position = v_position;
}
`,ia=`#version 300 es

precision mediump float;

in vec4 v_position;
in vec2 v_texCoord;
in vec3 v_normal;
in vec3 v_surfaceToLight;
in vec3 v_surfaceToView;

uniform vec4 u_lightColor;
uniform vec4 u_ambient;
uniform sampler2D u_diffuse;
uniform vec4 u_specular;
uniform float u_shininess;
uniform float u_specularFactor;

out vec4 outColor;

vec4 lit(float l, float h, float m) {
  return vec4(1.0f, max(l, 0.0f), (l > 0.0f) ? pow(max(0.0f, h), m) : 0.0f, 1.0f);
}

void main() {
  vec4 diffuseColor = texture(u_diffuse, v_texCoord);
  vec3 a_normal = normalize(v_normal);
  vec3 surfaceToLight = normalize(v_surfaceToLight);
  vec3 surfaceToView = normalize(v_surfaceToView);
  vec3 halfVector = normalize(surfaceToLight + surfaceToView);
  vec4 litR = lit(dot(a_normal, surfaceToLight), dot(a_normal, halfVector), u_shininess);
  outColor = vec4((u_lightColor * (diffuseColor * litR.y + diffuseColor * u_ambient +
    u_specular * litR.z * u_specularFactor)).rgb, diffuseColor.a);
}
`,d=Er;function aa(e){const t={position:[1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1],normal:[1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1],texcoord:[1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1],indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]},n=ea(e,[ca,ia],["position","normal","texcoord"]),r=ra(e,n,jr(e,t)),o=Dc(e,{min:e.NEAREST,mag:e.NEAREST,src:[255,255,255,255,192,192,192,255,192,192,192,255,255,255,255,255]}),c={u_lightWorldPos:[1,8,-10],u_lightColor:[1,.8,.8,1],u_ambient:[0,0,0,1],u_specular:[1,1,1,1],u_shininess:50,u_specularFactor:1,u_diffuse:o,u_viewInverse:d.identity(),u_world:d.identity(),u_worldInverseTranspose:d.identity(),u_worldViewProjection:d.identity()};return i=>{oa(e.canvas),e.viewport(0,0,e.canvas.width,e.canvas.height),e.enable(e.DEPTH_TEST),e.enable(e.CULL_FACE),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),i*=.001;const a=30*Math.PI/180,u=e.canvas.clientWidth/e.canvas.clientHeight,f=d.perspective(a,u,.5,10),l=[1,4,-6],E=[0,0,0],x=[0,1,0],y=d.lookAt(l,E,x),_=d.inverse(y),T=d.multiply(f,_),A=d.rotationY(i);Object.assign(c,{u_viewInverse:y,u_world:A,u_worldInverseTranspose:d.transpose(d.inverse(A)),u_worldViewProjection:d.multiply(T,A)}),e.useProgram(n.program),zn(e,n,r),Gn(n,c),na(e,r)}}Vn(aa,document.querySelector("#app"));
